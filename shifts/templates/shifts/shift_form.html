{% extends 'base.html' %}

{% block title %}{% if form.instance.pk %}Edit Shift{% else %}Create Shift{% endif %} - ShiftWise Flexi{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h3>{% if form.instance.pk %}Edit Shift{% else %}Create Shift{% endif %}</h3>
    </div>
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            {{ form.non_field_errors }}
            
            <!-- Name Field -->
            <div class="form-group">
                {{ form.name.label_tag }}
                {{ form.name }}
                {{ form.name.errors }}
            </div>
            
            <!-- Shift Date Field -->
            <div class="form-group">
                {{ form.shift_date.label_tag }}
                {{ form.shift_date }}
                {{ form.shift_date.errors }}
            </div>
            
            <!-- Start Time Field -->
            <div class="form-group">
                {{ form.start_time.label_tag }}
                {{ form.start_time }}
                {{ form.start_time.errors }}
            </div>
            
            <!-- End Time Field -->
            <div class="form-group">
                {{ form.end_time.label_tag }}
                {{ form.end_time }}
                {{ form.end_time.errors }}
            </div>
            
            <!-- Postcode Field -->
            <div class="form-group">
                {{ form.postcode.label_tag }}
                {{ form.postcode }}
                {{ form.postcode.errors }}
                <!-- Loading Spinner -->
                <div id="loadingSpinner" class="spinner-border text-primary" role="status" style="display: none; width: 1.5rem; height: 1.5rem;">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
            
            <!-- Address Line 1 Field -->
            <div class="form-group">
                {{ form.address_line1.label_tag }}
                {{ form.address_line1 }}
                {{ form.address_line1.errors }}
            </div>
            
            <!-- City Field -->
            <div class="form-group">
                {{ form.city.label_tag }}
                {{ form.city }}
                {{ form.city.errors }}
            </div>
            
            <!-- State Field -->
            <div class="form-group">
                {{ form.state.label_tag }}
                {{ form.state }}
                {{ form.state.errors }}
            </div>
            
            <!-- Country Field -->
            <div class="form-group">
                {{ form.country.label_tag }}
                {{ form.country }}
                {{ form.country.errors }}
            </div>
            
            <!-- Latitude Field -->
            <div class="form-group">
                {{ form.latitude.label_tag }}
                {{ form.latitude }}
                {{ form.latitude.errors }}
            </div>
            
            <!-- Longitude Field -->
            <div class="form-group">
                {{ form.longitude.label_tag }}
                {{ form.longitude }}
                {{ form.longitude.errors }}
            </div>
            
            <!-- Capacity Field -->
            <div class="form-group">
                {{ form.capacity.label_tag }}
                {{ form.capacity }}
                {{ form.capacity.errors }}
            </div>
            
            <!-- Shift Type Field -->
            <div class="form-group">
                {{ form.shift_type.label_tag }}
                {{ form.shift_type }}
                {{ form.shift_type.errors }}
            </div>
            
            <!-- Hourly Rate Field -->
            <div class="form-group">
                {{ form.hourly_rate.label_tag }}
                {{ form.hourly_rate }}
                {{ form.hourly_rate.errors }}
            </div>
            
            <!-- Notes Field -->
            <div class="form-group">
                {{ form.notes.label_tag }}
                {{ form.notes }}
                {{ form.notes.errors }}
            </div>
            
            <!-- Submit and Cancel Buttons -->
            <button type="submit" class="btn btn-primary">{% if form.instance.pk %}Update Shift{% else %}Create Shift{% endif %}</button>
            <a href="{% url 'shifts:shift_list' %}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</div>
{% endblock %}